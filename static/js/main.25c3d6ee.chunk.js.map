{"version":3,"sources":["context/UserContext.js","components/auth/AuthOptions.js","components/layout/Header.js","components/pages/Dashboard.js","components/pages/Home.js","components/misc/ErrorNotice.js","components/auth/Login.js","components/auth/Register.js","App.js","index.js"],"names":["createContext","AuthOptions","useContext","UserContext","userData","setUserData","history","useHistory","className","user","onClick","token","undefined","localStorage","setItem","push","Header","id","to","Dashboard","props","titleChange","e","setState","title","target","value","locationChange","location","dateChange","date","timeChange","time","descriptionChange","description","state","events","axios","get","then","res","data","event","preventDefault","post","this","componentDidMount","put","console","log","_id","delete","onSubmit","submit","htmlFor","onChange","type","name","Table","map","key","Button","edit","React","Component","Home","useEffect","ErrorNotice","message","clearError","Login","useState","email","setEmail","password","setPassword","error","setError","a","loginUser","Axios","loginRes","response","msg","Register","passwordCheck","setPasswordCheck","newUser","placeholder","App","getItem","headers","userRes","checkLoggedIn","Provider","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25c3d6ee.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport default createContext(null);\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../context/UserContext\";\r\n\r\nexport default function AuthOptions() {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const history = useHistory(); \r\n\r\n  const register = () => history.push(\"/register\");\r\n  const login = () => history.push(\"/login\");\r\n  const logout = () => {\r\n    setUserData({\r\n      token: undefined,\r\n      user: undefined,\r\n    });\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n  };\r\n  return (\r\n    <nav className=\"auth-options\">\r\n      {/* conditional rendering */}\r\n      {userData.user ? (\r\n        <button onClick={logout}>Log out</button>\r\n      ) : (\r\n        <>\r\n          <button onClick={register}>Register</button>\r\n          <button onClick={login}>Log in</button>\r\n        </>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n import AuthOptions from \"../auth/AuthOptions\"\r\n\r\nexport default function Header() {\r\n    return (\r\n        <header id=\"header\">\r\n            <Link  to=\"/\"><h1 className=\"title\"> Events Board</h1></Link>\r\n            <AuthOptions/>\r\n        </header>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      events: [],\r\n      id: 0,\r\n      title: \"\",\r\n      location: \"\",\r\n      date: \"\",\r\n      time: \"\",\r\n      description: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(\"https://events-app.herokuapp.com/events/\").then((res) => {\r\n      this.setState({\r\n        events: res.data,\r\n        id: 0,\r\n        title: \"\",\r\n        location: \"\",\r\n        date: \"\",\r\n        time: \"\",\r\n        description: \"\",\r\n      });\r\n    });\r\n  }\r\n  titleChange = (e) => {\r\n    this.setState({\r\n      title: e.target.value,\r\n    });\r\n  };\r\n\r\n  locationChange = (e) => {\r\n    this.setState({\r\n      location: e.target.value,\r\n    });\r\n  };\r\n\r\n  dateChange = (e) => {\r\n    this.setState({\r\n      date: e.target.value,\r\n    });\r\n  };\r\n\r\n  timeChange = (e) => {\r\n    this.setState({\r\n      time: e.target.value,\r\n    });\r\n  };\r\n\r\n  descriptionChange = (e) => {\r\n    this.setState({\r\n      description: e.target.value,\r\n    });\r\n  };\r\n\r\n  submit(event, id) {\r\n    event.preventDefault();\r\n    if (id === 0) {\r\n      axios\r\n        .post(\"https://events-app.herokuapp.com/events/\", {\r\n          title: this.state.title,\r\n          location: this.state.location,\r\n          date: this.state.date,\r\n          time: this.state.time,\r\n          description: this.state.description,\r\n        })\r\n        .then(() => {\r\n          this.componentDidMount();\r\n        });\r\n    } else {\r\n      axios\r\n        .put(`https://events-app.herokuapp.com/events/${id}`, {\r\n          title: this.state.title,\r\n          location: this.state.location,\r\n          date: this.state.date,\r\n          time: this.state.time,\r\n          description: this.state.description,\r\n        })\r\n        .then(() => {\r\n          this.componentDidMount();\r\n        });\r\n    }\r\n  }\r\n\r\n  edit(id) {\r\n    axios.get(`https://events-app.herokuapp.com/events/${id}`).then((res) => {\r\n      console.log(res.data);\r\n      this.setState({\r\n        id: res.data._id,\r\n        title: res.data.title,\r\n        location: res.data.location,\r\n        date: res.data.date,\r\n        time: res.data.time,\r\n        description: res.data.description,\r\n      });\r\n    });\r\n  }\r\n\r\n  delete(id) {\r\n    axios.delete(`https://events-app.herokuapp.com/events/${id}`).then(() => {\r\n      this.componentDidMount();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row mt-4\">\r\n        <br />\r\n        <div className=\"col s4\">\r\n          <form\r\n            className=\"form\"\r\n            onSubmit={(e) => this.submit(e, this.state.id)}\r\n          >\r\n            <div className=\"input-field col s12\">\r\n              <label htmlFor=\"autocomplete-input\">Title</label>\r\n              <input\r\n                value={this.state.title}\r\n                onChange={(e) => this.titleChange(e)}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"input-field col s12\">\r\n              <label htmlFor=\"autocomplete-input\">Location</label>\r\n              <input\r\n                value={this.state.location}\r\n                onChange={(e) => this.locationChange(e)}\r\n                type=\"text\"\r\n                id=\"autocomplete-input\"\r\n                className=\"autocomplete\"\r\n              />\r\n            </div>\r\n            <div className=\"input-field col s12\">\r\n              <label htmlFor=\"autocomplete-input\">Date</label>\r\n              <input\r\n                value={this.state.date}\r\n                onChange={(e) => this.dateChange(e)}\r\n                type=\"date\"\r\n                className=\"datepicker\"\r\n              />\r\n            </div>\r\n            <div className=\"input-field col s12\">\r\n              <label htmlFor=\"autocomplete-input\">Time</label>\r\n              <input\r\n                value={this.state.time}\r\n                onChange={(e) => this.timeChange(e)}\r\n                type=\"time\"\r\n                className=\"autocomplete\"\r\n              />\r\n            </div>\r\n            <div className=\"input-field col s12\">\r\n              <label htmlFor=\"autocomplete-input\">Description</label>\r\n              <input\r\n                value={this.state.description}\r\n                onChange={(e) => this.descriptionChange(e)}\r\n                type=\"text\"\r\n                id=\"autocomplete-input\"\r\n                className=\"autocomplete\"\r\n              />\r\n            </div>\r\n            <button className=\"submit-button\" type=\"submit\" name=\"action\">\r\n              Submit\r\n            </button>\r\n            <br />\r\n            <br />\r\n            <br />\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"col s8\">\r\n          <Table>\r\n            <thead>\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Location</th>\r\n                <th>Date</th>\r\n                <th>Time</th>\r\n                <th>Description</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {this.state.events.map((event) => (\r\n                <tr key={event._id}>\r\n                  <td>{event.title}</td>\r\n                  <td>{event.location}</td>\r\n                  <td>{event.date}</td>\r\n                  <td>{event.time}</td>\r\n                  <td>{event.description}</td>\r\n                  <td>\r\n                    <Button\r\n                      onClick={(e) => this.edit(event._id)}\r\n                      className=\"btn waves-effect waves-light\"\r\n                      type=\"submit\"\r\n                      name=\"action\"\r\n                    >\r\n                      <i className=\"material-icons\">edit</i>\r\n                    </Button>\r\n                  </td>\r\n                  <td>\r\n                    <Button\r\n                      onClick={(e) => this.delete(event._id)}\r\n                      className=\"btn waves-effect waves-light\"\r\n                      type=\"submit\"\r\n                      name=\"action\"\r\n                    >\r\n                      <i className=\"material-icons\">delete</i>\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Dashboard;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport Dashboard from \"../pages/Dashboard\";\r\n\r\nexport default function Home() {\r\n  const { userData } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!userData.user) history.push(\"/login\");\r\n  });\r\n  return (\r\n    <div className=\"page\">\r\n    \r\n      <Dashboard />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nexport default function ErrorNotice(props) {\r\n    return (\r\n        <div className=\"error-notice\">\r\n            <span>{props.message}</span>\r\n            <button onClick={props.clearError}>x</button>\r\n            \r\n        </div>\r\n    )\r\n}","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport Axios from \"axios\";\r\nimport ErrorNotice from \"../misc/ErrorNotice\";\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  const { setUserData } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const loginUser = { email, password };\r\n      const loginRes = await Axios.post(\r\n        \"https://events-app.herokuapp.com/users/login/\",\r\n        loginUser\r\n      );\r\n      setUserData({\r\n        token: loginRes.data.token,\r\n        user: loginRes.data.user,\r\n      });\r\n      localStorage.setItem(\"auth-token\", loginRes.data.token);\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      err.response.data.msg && setError(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <h2>Login</h2>\r\n      {error && (\r\n        <ErrorNotice message={error} clearError={() => setError(undefined)} />\r\n      )}\r\n\r\n      <form className=\"form\" onSubmit={submit}>\r\n        <label>Email: </label>\r\n        <input\r\n          id=\"login-email\"\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n\r\n        <label>Password: </label>\r\n        <input\r\n          id=\"login-password\"\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n\r\n        <input type=\"submit\" value=\"Log in\" />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport Axios from \"axios\";\r\nimport ErrorNotice from \"../misc/ErrorNotice\";\r\n\r\nexport default function Register() {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [passwordCheck, setPasswordCheck] = useState();\r\n  // const [displayName, setDisplayName] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  const { setUserData } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const newUser = { email, password, passwordCheck };\r\n      await Axios.post(\r\n        \"https://events-app.herokuapp.com/users/register/\",\r\n        newUser\r\n      );\r\n      const loginRes = await Axios.post(\r\n        \"https://events-app.herokuapp.com/users/login/\",\r\n        {\r\n          email,\r\n          password,\r\n        }\r\n      );\r\n      setUserData({\r\n        token: loginRes.data.token,\r\n        user: loginRes.data.user,\r\n      });\r\n      localStorage.setItem(\"auth-token\", loginRes.data.token);\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      err.response.data.msg && setError(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <h2>Register</h2>\r\n      {error && (\r\n        <ErrorNotice message={error} clearError={() => setError(undefined)} />\r\n      )}\r\n      <form className=\"form\" onSubmit={submit}>\r\n        <label>Email: </label>\r\n        <input\r\n          id=\"register-email\"\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n\r\n        <label>Password: </label>\r\n        <input\r\n          id=\"register-password\"\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Verify password\"\r\n          onChange={(e) => setPasswordCheck(e.target.value)}\r\n        />\r\n\r\n        {/* <label htmlFor=\"register-display-name\">Display name: </label>\r\n        <input\r\n          id=\"register-display-name\"\r\n          type=\"text\"\r\n          onChange={(e) => setDisplayName(e.target.value)}\r\n        /> */}\r\n\r\n        <input type=\"submit\" value=\"Register\" />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport Header from \"./components/layout/Header\";\r\nimport Home from \"./components/pages/Home\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Register from \"./components/auth/Register\";\r\nimport UserContext from \"./context/UserContext\";\r\nimport \"./style.css\";\r\n\r\nexport default function App() {\r\n  const [userData, setUserData] = useState({\r\n    token: undefined,\r\n    user: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const checkLoggedIn = async () => {\r\n      let token = localStorage.getItem(\"auth-token\");\r\n      if (token === null) {\r\n        localStorage.setItem(\"auth-token\", \"\");\r\n        token = \"\";\r\n      }\r\n      const tokenRes = await Axios.post(\r\n        \"https://events-app.herokuapp.com/users/tokenIsValid/\",\r\n        null,\r\n        { headers: { \"x-auth-token\": token } }\r\n      );\r\n      if (tokenRes.data) {\r\n        const userRes = await Axios.get(\r\n          \"https://events-app.herokuapp.com/users/\",\r\n          {\r\n            headers: { \"x-auth-token\": token },\r\n          }\r\n        );\r\n        setUserData({\r\n          token,\r\n          user: userRes.data,\r\n        });\r\n      }\r\n    };\r\n    checkLoggedIn();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <BrowserRouter>\r\n        <UserContext.Provider value={{ userData, setUserData }}>\r\n          <Header />\r\n          <div className=\"container\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <Route path=\"/login\" component={Login} />\r\n              <Route path=\"/register\" component={Register} />\r\n            </Switch>\r\n          </div>\r\n        </UserContext.Provider>\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}